<!doctype html>
<html>
    <head>
    <title>Journaling Group Loop</title>
    <script>
        // Create a function for handling notes
        function saveNote() {
            // Set the date, time, and description
            var currentDateAndTime = new Date()
            var aNoteDescription = document.getElementById('description_input').value
            var aNoteText = document.getElementById('note_editor').value
            var aCompleteNote = currentDateAndTime.toLocaleString() + '--' + aNoteDescription

            // Show the complete note
            aCompleteNote += "<p>" + aNoteText + "</p>"

            // Parse all note information
            var storedNotesString = localStorage.getItem('all_notes')
            var allNotes = JSON.parse(storedNotesString)
            // Be sure to check if there are no notes
            if (allNotes == null) {
                allNotes = []
            }
            // Stringify all note information
            allNotes.push(aCompleteNote)
            var allNotesString = JSON.stringify(allNotes)
            localStorage.setItem('all_notes', allNotesString)
        }
        function showAllNotes() {
            var storedNotesString = localStorage.getItem('all_notes')
            var allNotes = JSON.parse(storedNotesString)
            if (allNotes != null) {
                var noteDisplayer = document.getElementById('display_all_notes')
                noteDisplayer.innerHTML = null
                var numberOfNotes = allNotes.length
                for (var i = 0; i < numberOfNotes; i++) {
                    var aNote = allNotes[i]
                    noteDisplayer.innerHTML += "<hr><p>" + aNote + "</p>"
                }
            }
        }
    </script>

    <style>

    </style>
    </head>

    <body onload="showAllNotes()">
        <section id="note_entry_area">
            <h1>Note it!</h1>
            Description: <input type="text" id="description_input"></input>
            <textarea id="note_editor" placeholder="Note it down. Don't forget!"></textarea>
            <button onclick="saveNote(); showAllNotes()">Save</button>
        </section>
        <section id="display_all_notes"></section>
    </body>
</html>